<?php
class Site_model extends CI_Model {

    function __construct()
    {
        // Call the Model constructor
        parent::__construct();
    }
	
	/*********** List of blogs *************/
	
	public function fetch_custom_settings()
	{
		$this->db->select('*');
		$this->db->from(TBL_CUSTOM_SETTINGS);
		
		$query = $this->db->get();
		 
		if($query->num_rows() > 0)
			return $query->result();
		else
			return false;
	}

	public function fetch_meta_info($page_id, $page_type)
	{
		$this->db->select('*');
		$this->db->from(TBL_BLOG_META);
		$this->db->where('PageId',$page_id);
		$this->db->where('PageType',$page_type);
		
		$query = $this->db->get();
		 
		if($query->num_rows() > 0)
			return $query->result();
		else
			return false;
	}
	
	public function get_recent_blogs(){

		$this->db->select('*');
		$this->db->from(TBL_BLOGS);
		$this->db->limit(3);
		$this->db->order_by('CreatedOn','desc');

		$query = $this->db->get();

		if($query->num_rows() > 0){

			$res = $query->result();
			return $res;
		}
		else{
			return false;
		}

	}
		
}
?>